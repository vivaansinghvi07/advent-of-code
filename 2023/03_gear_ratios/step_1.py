print(sum([sum([int(x.group()) for x in __import__('re').finditer(r'\d+', m) if not all([__import__('re').sub(r'\d', '', o[max((s:=x.span())[0]-1, 0):min(s[1]+1, len(m))]).replace('.', '') == '' for o in [r, l]] + [m[s[0]-1] in '01234546789.' if s[0] != 0 else True, m[s[1]] in '01234546789.' if s[1] != len(m) else True])]) for (l, m, r) in (lambda x: [['.' * len(x[0]), x[0], x[1]]] + [[x[i-1], x[i], x[i+1]] for i in range(1, len(x)-1)] + [[x[-2], x[-1], '.' * len(x[0])]])([*map(lambda y: y.strip(), open("input.txt"))])]))
